<div class="projects bg">
  <app-header></app-header>
    <div class="container">
      <h4 class="header-title">Current Weather</h4>
      <form class="form" (ngSubmit)="onSubmit(mForm)"
          #mForm="ngForm" id="m_form_2">
        <div class="m-portlet__body">
            <div [ngClass]="{'has-danger':mForm.submitted && name.hasError('required') || (name.touched && name.hasError('required'))}">
                <p class="inputLabel">City</p>
                <div>
                    <input [(ngModel)]="cityName" placeholder="Enter city name" type="text" class="inputItem" name="name" [ngClass]="{'inputItemRequired': mForm.submitted && name.hasError('required') || (name.touched && name.hasError('required'))}"
                            required #name="ngModel">
                    <div *ngIf="mForm.submitted && name.hasError('required') || (name.touched && name.hasError('required'))"
                        class="form-control-feedback">
                        required
                    </div>
                </div>
            </div>
        </div>
        <div>
              <button type="submit" class="btn btn-accent saveButton mr-4">
                  Search
              </button>

              <button type="submit" class="btn btn-accent saveButton">
                Update
            </button>
        </div>
        <div class="badge" *ngIf="lastUpdate">lastUpdate : {{lastUpdate}}</div>
      </form>

      <div class="weatherData" *ngIf="currentWeather">
        <p>City : <span class="weather-value">{{currentWeather.name}}</span></p>
        <p>Temperature : <span class="weather-value">{{currentWeather.main.temp | number:'1.0-0'}} °C </span>
          <span> {{currentWeather.weather[0].main}}</span>
          <span><img width="42" height="42" [src]="weatherIcon" /></span>
        </p>
        <p>Real Feel: <span class="weather-value">{{currentWeather.main.feels_like}} °C</span></p>
        <p>Pressure: <span class="weather-value">{{currentWeather.main.pressure}} mb</span></p>
        <p>Humidity: <span class="weather-value">{{currentWeather.main.humidity}} g/m3</span></p>
        <p>Wind Speed: <span class="weather-value">{{currentWeather.wind.speed}} m/s</span></p>
      </div>
    </div>
    <hr>
  <app-footer></app-footer>
</div>